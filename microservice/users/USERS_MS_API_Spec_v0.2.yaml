openapi: 3.0.3

info:
  title: Users API
  description: Simple User API
  version: '0.1'

servers:
    -   url: 'https://api.fireheet.com/v1/users'
        description: API Server

security:
    - BasicAuth: []

# Add Healthz route
# Add v1 to all routes
# Add errors responses
# Think about security with roles
paths:

    # Roles routes
    /roles:
        get:
            security:
                - JWTAuth: []
            summary: Lists all roles
            description: List all avaiable roles
            operationId: ListAllRolesService
            tags:
                - Roles
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Role'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

    /roles/{role_id}:
        get:
            security:
                - JWTAuth: []
            summary: Lists an role
            description: List a role by ID
            operationId: ListRoleService
            tags:
                - Roles

            parameters: 
                -   $ref: '#/components/parameters/RoleID'
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Role'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

    # Users routes
    /users:
        post:
            summary: Creates an user
            description: Post description
            operationId: CreateUserService
            tags:
                - Users
            
            requestBody:
                $ref: '#/components/requestBodies/CreateUser'
                    
            responses:
                '201':
                    description: Created
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'
    
    /users/{user_id}:
        get:
            security:
                - JWTAuth: []
            summary: Lists an user
            description: List description
            operationId: ListUserService
            tags:
                - Users
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        patch:
            security:
                - JWTAuth: []
            summary: Updates an user
            description: Patch description
            operationId: UpdateUserService
            tags:
                - Users
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
            
            requestBody:
                $ref: '#/components/requestBodies/UpdateUser'
                
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        delete:
            security:
                - JWTAuth: []
            summary: Deletes an user
            description: Delete description
            operationId: DeleteUserService
            tags:
                - Users
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

    /users/{user_id}/activate:
        get:
            security:
                - JWTAuth: []
            summary: Activates an user
            description: Activate description
            operationId: ActivateUserService
            tags:
                - Users
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'

            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

    # Addresses routes
    /users/addresses/{user_id}:
        get:
            security:
                - JWTAuth: []
            summary: Lists all or one user addresses
            description: If the parameter 'address_id' is equal to *null* if fetches all addresses
            operationId: ListAddressesService
            tags:
                - Addresses
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/AddressID'
                    
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Address'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        post:
            security:
                - JWTAuth: []
            summary: Create a user address
            description: Creates a new user address
            operationId: CreateAddressService
            tags:
                - Addresses
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'

            requestBody:
                $ref: '#/components/requestBodies/CreateAddress'
                    
            responses:
                '201':
                    description: Created
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Address'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        patch:
            security:
                - JWTAuth: []
            summary: Updates a user address
            description: Updates an existing user address
            operationId: UpdateAddressService
            tags:
                - Addresses
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/AddressIDRequired'

            requestBody:
                $ref: '#/components/requestBodies/UpdateAddress'
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Address'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'
    
        delete:
            security:
                - JWTAuth: []
            summary: Deletes a user address
            description: Deletes an existing user address
            operationId: DeleteAddressService
            tags:
                - Addresses
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/AddressIDRequired'
            
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Address'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'
  
    # Phones routes
    /users/phones/{user_id}:
        post:
            security:
                - JWTAuth: []
            summary: Create a user phone
            description: Creates a new user phone
            operationId: CreatePhoneService
            tags:
                - Phones
            
            parameters: 
                - $ref: '#/components/parameters/UserID'

            requestBody:
                $ref: '#/components/requestBodies/CreatePhone'
                    
            responses:
                '201':
                    description: Created
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Phone'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        get:
            security:
                - JWTAuth: []
            summary: List a user phone
            description: Lists an existing user phone
            operationId: ListPhoneService
            tags:
                - Phones
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/PhoneID'
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Phone'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        patch:
            security:
                - JWTAuth: []
            summary: Updates a user phone
            description: Updates an existing user phone
            operationId: UpdatePhoneService
            tags:
                - Phones
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/PhoneID'

            requestBody:
                $ref: '#/components/requestBodies/UpdatePhone'
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Phone'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'

        delete:
            security:
                - JWTAuth: []
            summary: Deletes a user phone
            description: Deletes an existing user phone
            operationId: DeletePhoneService
            tags:
                - Phones
            
            parameters: 
                -   $ref: '#/components/parameters/UserID'
                -   $ref: '#/components/parameters/PhoneID'
                    
            responses:
                '200':
                    description: Success
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Phone'
                '400':
                    $ref: '#/components/responses/Error400'
                '404':
                    $ref: '#/components/responses/Error404'
                '429':
                    $ref: '#/components/responses/Error429'
                'default':
                    $ref: '#/components/responses/ErrorDefault'


components:
    requestBodies:
        # User request bodies
        CreateUser:
            description: Create user infos
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/CreateUserDTO'

        UpdateUser:
            description: Updates user infos
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/UpdateUserDTO'

        # Address request bodies
        CreateAddress:
            description: Create address request body
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/CreateAddressDTO'
        
        UpdateAddress:
            description: Update address infos
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/UpdateAddressDTO'
        

        # Phone request bodies
        CreatePhone:
            description: Create phone infos
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/CreatePhoneDTO'

        UpdatePhone:
            description: Update phone infos
            required: true
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/UpdatePhoneDTO'
                


    securitySchemes:
        BasicAuth:
            type: http
            scheme: basic
        JWTAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
            description: JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object

    
    schemas:

        # Roles schemas
        Role:
            additionalProperties: false
            type: object
            properties:
                id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                name:
                    type: string
                    pattern: ^(CLIENT|EMPLOYEE|ADMIN|SYSADMIN)$
                    maxLength: 10
                    example: 'Role name'

        # Users schemas
        User:
            additionalProperties: false
            type: object
            properties:
                id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                role_id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                name:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 100
                    example: 'John'
                email:
                    type: string
                    pattern: /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i
                    description: Must be an valid email
                    maxLength: 50
                    example: 'john@email.com'
                password:
                    description: Will be encrypted before being stored in DB
                    pattern: ^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*(){}\-__+.]){1,}).{6,250}$
                    maxLength: 250
                    type: string
                    example: '*T!.7_QqJw{HJvNMRGQe'
                sex:
                    type: string
                    pattern: ^(male|female)$
                    maxLength: 6
                    example: 'male'
                birthdate:
                    type: string
                    pattern: ^([1-9]{2}\/[1-9]{2}\/[1-9]{4})$
                    maxLength: 10
                    example: 'DD/MM/YYYY'
                document_number:
                    type: string
                    pattern: ^([1-9]{11})$
                    maxLength: 11
                    example: '99999999999'

        CreateUserDTO:
            additionalProperties: false
            type: object
            required:
                - name
                - email
                - password
                - birthdate
                - document_number
            properties:
                role_id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                name:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 100
                    example: 'John'
                email:
                    type: string
                    pattern: /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i
                    description: Must be an valid email
                    maxLength: 50
                    example: 'john@email.com'
                password:
                    description: Will be encrypted before being stored in DB
                    pattern: ^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*(){}\-__+.]){1,}).{6,250}$
                    maxLength: 250
                    type: string
                    example: '*T!.7_QqJw{HJvNMRGQe'
                sex:
                    type: string
                    pattern: ^(male|female)$
                    maxLength: 6
                    example: 'male'
                birthdate:
                    type: string
                    pattern: ^([1-9]{2}\/[1-9]{2}\/[1-9]{4})$
                    maxLength: 10
                    example: 'DD/MM/YYYY'
                document_number:
                    type: string
                    pattern: ^([1-9]{11})$
                    maxLength: 11
                    example: '99999999999'

        UpdateUserDTO:
            additionalProperties: false
            type: object
            properties:
                name:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 100
                    example: 'John'
                email:
                    type: string
                    pattern: /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i
                    description: Must be an valid email
                    maxLength: 50
                    example: 'john@email.com'
                password:
                    description: Will be encrypted before being stored in DB
                    pattern: ^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*(){}\-__+.]){1,}).{6,250}$
                    maxLength: 250
                    type: string
                    example: '*T!.7_QqJw{HJvNMRGQe'

        # Addresses schemas
        Address:
            additionalProperties: false
            type: object
            properties:
                id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                user_id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                country:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    example: 'Brazil'
                    maxLength: 30
                state:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'São Paulo'
                city:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'St John'
                street:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 50
                    example: 'Street Something'
                number:
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 32000
                    description: Must be a number between 0 and 32000
                    example: 536
                district:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'South District'
                complement:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'Next to a red store'
                postal_code:
                    type: string
                    pattern: ^[0-9]{4,12}$
                    minLength: 4
                    maxLength: 12
                    example: '99999999'
                description:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 10
                    description: If it is null, the system will generate a name like 'Others' can be changed after to any name you like
                    example: 'Home'

        CreateAddressDTO:
            additionalProperties: false
            type: object
            required:
                - country
                - state
                - city
                - street
                - number
                - district
                - postal_code
            properties:
                country:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    example: 'Brazil'
                    maxLength: 30
                state:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'São Paulo'
                city:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'St John'
                street:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 50
                    example: 'Street Something'
                number:
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 32000
                    description: Must be a number between 0 and 32000
                    example: 536
                district:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'South District'
                complement:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'Next to a red store'
                postal_code:
                    type: string
                    pattern: ^[0-9]{4,12}$
                    minLength: 4
                    maxLength: 12
                    example: '99999999'
                description:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 10
                    description: If it is null, the system will generate a name like 'Others' can be changed after to any name you like
                    example: 'Home'

        UpdateAddressDTO:
            additionalProperties: false
            type: object
            properties:
                country:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    example: 'Brazil'
                    maxLength: 30
                state:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'São Paulo'
                city:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'St John'
                street:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 50
                    example: 'Street Something'
                number:
                    type: integer
                    format: int32
                    minimum: 0
                    maximum: 32000
                    description: Must be a number between 0 and 32000
                    example: 536
                district:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'South District'
                complement:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 30
                    example: 'Next to a red store'
                postal_code:
                    type: string
                    pattern: ^[0-9]{4,12}$
                    minLength: 4
                    maxLength: 12
                    example: '99999999'
                description:
                    type: string
                    pattern: ^[#.0-9a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\s,-]+$
                    maxLength: 10
                    description: If it is null, the system will generate a name like 'Others' can be changed after to any name you like
                    example: 'Home'

        # Phones schemas
        Phone:
            additionalProperties: false
            type: object
            properties:
                id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                user_id:
                    type: string
                    description: A UUID is simply a 128-bit unique value that can be expressed as either a larger number or a string. Must be an *valid* UUID.
                    pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                    maxLength: 36
                    example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
                country_code:
                    type: string
                    pattern: ^\+[0-9\-]{1,7}$
                    maxLength: 8
                    example: '+99'
                prefix:
                    type: string
                    pattern: ^[0-9]{1,4}$
                    maxLength: 4
                    example: '099'
                number: 
                    type: string
                    pattern: ^[0-9]{4,10}$
                    maxLength: 10
                    example: '999999999'
                verified:
                    description: Controls if the user has verified or not the phone number.
                    example: true
                    type: boolean

        CreatePhoneDTO:
            additionalProperties: false
            type: object
            required:
                - country-code
                - prefix
                - number
            properties:
                country_code:
                    type: string
                    pattern: ^\+[0-9\-]{1,7}$
                    maxLength: 8
                    example: '+99'
                prefix:
                    type: string
                    pattern: ^[0-9]{1,4}$
                    maxLength: 4
                    example: '099'
                number: 
                    type: string
                    pattern: ^[0-9]{4,10}$
                    maxLength: 10
                    example: '999999999'

        UpdatePhoneDTO:
            additionalProperties: false
            type: object
            properties:
                country_code:
                    type: string
                    pattern: ^\+[0-9\-]{1,7}$
                    maxLength: 8
                    example: '+99'
                prefix:
                    type: string
                    pattern: ^[0-9]{1,4}$
                    maxLength: 4
                    example: '099'
                number: 
                    type: string
                    pattern: ^[0-9]{4,10}$
                    maxLength: 10
                    example: '999999999'


    parameters:

        # Users parameters
        UserID:
            name: user_id
            description: A UUID is simply a **128-bit** unique value that can be expressed as either a larger number or a string. Must be an **valid** UUID.
            required: true
            in: path 
            schema:
                type: string
                pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
        
        # Roles parameters
        RoleID:
            name: role_id
            description: A UUID is simply a **128-bit** unique value that can be expressed as either a larger number or a string. Must be an **valid** UUID.
            required: true
            in: path 
            schema:
                type: string                
                pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
        
        # Address parameters
        AddressIDRequired:
            name: address_id
            description: A UUID is simply a **128-bit** unique value that can be expressed as either a larger number or a string. Must be an **valid** UUID.
            required: true
            in: query 
            schema:
                type: string
                pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
        
        AddressID:
            name: address_id
            description: A UUID is simply a **128-bit** unique value that can be expressed as either a larger number or a string. Must be an **valid** UUID.
            required: false
            in: query 
            schema:
                type: string
                pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'

        # Phones parameters
        PhoneID:
            name: phone_id
            description: A UUID is simply a **128-bit** unique value that can be expressed as either a larger number or a string. Must be an **valid** UUID.
            required: true
            in: query 
            schema:
                type: string
                pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
                example: 'da695b93-2bd6-404a-87da-fe3e8b53b940'
    
    
    responses:


        # Errors
        Error400:
            description: 'Bad Request Exception'
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            status_code:
                                type: integer
                                format: int32
                                example: 400
                            message:
                                type: string
                                example: 'ID "X" is not a valid UUID!"'
                            path:
                                type: string
                                example: '/v1/users/X/Y'
                            method:
                                type: string
                                example: 'POST'
                            timestamp:
                                type: string
                                example: '9999-99-99T99:99:99.999Z'
        
        Error404:
            description: 'Not Found Exception'
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            status_code:
                                type: integer
                                format: int32
                                example: 404
                            message:
                                type: string
                                example: 'Entity X with ID "Y" does not exists!'
                            path:
                                type: string
                                example: '/v1/users/X/Y'
                            method:
                                type: string
                                example: 'POST'
                            timestamp:
                                type: string
                                example: '9999-99-99T99:99:99.999Z'

        Error429:
            description: 'Too Many Requests Exception'
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            status_code:
                                type: integer
                                format: int32
                                example: 429
                            message:
                                type: string
                                example: 'Too many requests at X path'
                            path:
                                type: string
                                example: '/v1/users/X/Y'
                            method:
                                type: string
                                example: 'POST'
                            timestamp:
                                type: string
                                example: '9999-99-99T99:99:99.999Z'
        
        ErrorDefault:
            description: 'Internal Server Error Exception '
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            status_code:
                                type: integer
                                format: int32
                                example: 500
                            message:
                                type: string
                                example: 'Internal Server Error'
                            path:
                                type: string
                                example: '/v1/users/X/Y'
                            method:
                                type: string
                                example: 'POST'
                            timestamp:
                                type: string
                                example: '9999-99-99T99:99:99.999Z'











